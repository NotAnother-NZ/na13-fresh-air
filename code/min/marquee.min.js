class Marquee{constructor(element){this.wrapper=element,this.speed=parseInt(element.getAttribute("data-dt-marquee-speed"))||100,this.direction=element.getAttribute("data-dt-marquee-direction")||"left",element.hasAttribute("data-marquee-initialized")||(element.setAttribute("data-marquee-initialized","true"),this.init())}init(){const originalContainer=this.wrapper.querySelector('[class^="marquee-type-"]');if(!originalContainer)return;const originalContent=originalContainer.innerHTML,containerClass=originalContainer.className;this.wrapper.innerHTML="",this.wrapper.style.display="flex",this.wrapper.style.overflow="hidden";const animationContainer=document.createElement("div");animationContainer.className="marquee-animation-container",animationContainer.style.display="flex",animationContainer.style.width="max-content",this.wrapper.appendChild(animationContainer);const baseContainer=document.createElement("div");baseContainer.className=containerClass,baseContainer.style.display="flex",baseContainer.style.flexShrink="0",baseContainer.innerHTML=originalContent,animationContainer.appendChild(baseContainer),setTimeout((()=>{const contentWidth=baseContainer.offsetWidth,wrapperWidth=this.wrapper.offsetWidth,copiesNeeded=Math.ceil(2*wrapperWidth/contentWidth)+2;for(let i=1;i<copiesNeeded;i++){const copy=baseContainer.cloneNode(!0);animationContainer.appendChild(copy)}this.applyAnimation(animationContainer,contentWidth,copiesNeeded)}),0)}applyAnimation(container,contentWidth,copiesCount){const animationName=`marquee-scroll-${Math.floor(1e6*Math.random())}`,duration=contentWidth*(100/this.speed)*.01;if("right"===this.direction){const keyframes=document.createElement("style");keyframes.textContent=`\n            @keyframes ${animationName} {\n              0% { transform: translateX(-${contentWidth}px); }\n              100% { transform: translateX(0); }\n            }\n          `,document.head.appendChild(keyframes),container.style.transform=`translateX(-${contentWidth}px)`}else{const keyframes=document.createElement("style");keyframes.textContent=`\n            @keyframes ${animationName} {\n              0% { transform: translateX(0); }\n              100% { transform: translateX(-${contentWidth}px); }\n            }\n          `,document.head.appendChild(keyframes)}container.style.animation=`${animationName} ${duration}s linear infinite`,window.addEventListener("resize",(()=>{if(!document.body.contains(this.wrapper))return;const newWrapperWidth=this.wrapper.offsetWidth;Math.abs(newWrapperWidth-this.wrapperWidth)>50&&(this.wrapperWidth=newWrapperWidth,this.init())})),this.wrapperWidth=this.wrapper.offsetWidth}}document.addEventListener("DOMContentLoaded",(()=>{initMarquees()})),window.initMarquees=function(container=document){const marqueeElements=container.querySelectorAll(".marquee-wrapper"),instances=[];return marqueeElements.forEach((element=>{instances.push(new Marquee(element))})),instances};