const flipCards=document.querySelectorAll("[data-slider-flip].vocabulary-card");0===flipCards.length?console.warn("No vocabulary-card elements with data-slider-flip found."):console.log("vocabulary-card elements found."),flipCards.forEach(((card,index)=>{const frontContent=card.querySelector('[data-slider-flip-slide="1"]'),backContent=card.querySelector('[data-slider-flip-slide="2"]'),tagElement=card.querySelector(".vocabulary-tag");if(!frontContent||!backContent||!tagElement)return void console.warn(`Vocabulary card at index ${index} is missing required elements.`);const swiperContainer=document.createElement("div");swiperContainer.classList.add("swiper-container"),swiperContainer.style.width="100%",swiperContainer.style.height="100%";const swiperWrapper=document.createElement("div");swiperWrapper.classList.add("swiper-wrapper");const createSlide=contentHTML=>{const slide=document.createElement("div");return slide.classList.add("swiper-slide","vocabulary-card"),slide.style.width="100%",slide.style.height="100%",slide.style.display="flex",slide.style.flexDirection="column",slide.style.alignItems="center",slide.style.justifyContent="center",slide.innerHTML=contentHTML,slide},tagHTML=tagElement.outerHTML,frontSlide=createSlide(frontContent.outerHTML+tagHTML);frontSlide.style.backgroundColor="var(--swatches--beige)";const backSlide=createSlide(backContent.outerHTML+tagHTML);let usedColors=[];const allColors=["var(--swatches--brown)","var(--swatches--green)","var(--swatches--orange)","var(--swatches--purple)","var(--swatches--yellow)","var(--swatches--blue)"],offWhiteColors=["var(--swatches--brown)","var(--swatches--green)","var(--swatches--orange)","var(--swatches--blue)"],blackColors=["var(--swatches--purple)","var(--swatches--yellow)"],updateTextColor=(slide,bgColor)=>{const textElements=slide.querySelectorAll(".body1-1, .title5-1");offWhiteColors.includes(bgColor)?textElements.forEach((el=>el.style.color="var(--swatches--off-white)")):blackColors.includes(bgColor)?textElements.forEach((el=>el.style.color="var(--swatches--black)")):textElements.forEach((el=>el.style.color="inherit"))};backSlide.style.backgroundColor="var(--swatches--yellow)",updateTextColor(backSlide,"var(--swatches--yellow)"),swiperWrapper.appendChild(frontSlide),swiperWrapper.appendChild(backSlide),swiperContainer.appendChild(swiperWrapper),card.innerHTML="",card.appendChild(swiperContainer),card.classList.add("no-padding");const flipSwiper=new Swiper(swiperContainer,{effect:"flip",loop:!0,grabCursor:!1,allowTouchMove:!1,speed:600,slidesPerView:1,centeredSlides:!0,flipEffect:{slideShadows:!1,limitRotation:!0},on:{init:function(){console.log(`Swiper initialized for card index ${index}`)},slideChange:function(){console.log(`Slide changed for card index ${index}`)}}});swiperContainer.addEventListener("click",(()=>{if(0===flipSwiper.realIndex){const availableColors=allColors.filter((color=>!usedColors.includes(color))),randomColor=availableColors[Math.floor(Math.random()*availableColors.length)];backSlide.style.backgroundColor=randomColor,updateTextColor(backSlide,randomColor),usedColors.push(randomColor),usedColors.length>=allColors.length&&(usedColors=[])}flipSwiper.slideNext()})),swiperContainer.style.cursor="pointer"}));